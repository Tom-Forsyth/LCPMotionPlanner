\hypertarget{main_8cpp_source}{}\doxysection{main.\+cpp}
\label{main_8cpp_source}\index{src/main.cpp@{src/main.cpp}}
\mbox{\hyperlink{main_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00002}00002 \textcolor{preprocessor}{\#include <Eigen/Dense>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}PxPhysicsAPI.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_sphere_8h}{Sphere.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_capsule_8h}{Capsule.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_box_8h}{Box.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_franka_panda_8h}{FrankaPanda.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00011}00011 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_object_type_8h}{ObjectType.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_physics_core_8h}{PhysicsCore.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00014}00014 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_physics_scene_8h}{PhysicsScene.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00016}00016 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_motion_planner}{MotionPlanner}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00018}00018 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8cpp_a6cbcdf8cc0f6c0e1374ac9a559f6114f}{testFrankaPanda}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00020}\mbox{\hyperlink{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{00020}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}()}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00021}00021 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00022}00022     \textcolor{comment}{// Round outputs to console.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00023}00023     std::cout.precision(4);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00025}00025     \textcolor{comment}{// Reset seed.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00026}00026     srand(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}\textcolor{keyword}{>}(time(\textcolor{keyword}{nullptr})));}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00027}00027     rand();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00029}00029     \textcolor{comment}{// Test planner.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00030}00030     \mbox{\hyperlink{main_8cpp_a6cbcdf8cc0f6c0e1374ac9a559f6114f}{testFrankaPanda}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00032}00032     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00033}00033 \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00035}\mbox{\hyperlink{main_8cpp_a6cbcdf8cc0f6c0e1374ac9a559f6114f}{00035}} \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8cpp_a6cbcdf8cc0f6c0e1374ac9a559f6114f}{testFrankaPanda}}()}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00036}00036 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00037}00037     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{double} pi = 3.14159265358979323846;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00039}00039     \textcolor{comment}{// Create physics core and scene.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00040}00040     \mbox{\hyperlink{class_motion_planner_1_1_physics_core}{PhysicsCore}} physics;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00041}00041     physics.\mbox{\hyperlink{class_motion_planner_1_1_physics_core_a9820626a89f7778e1e46e501b302ef5e}{createPhysicsCore}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00042}00042     \mbox{\hyperlink{class_motion_planner_1_1_physics_scene}{PhysicsScene}}* physicsScene = physics.\mbox{\hyperlink{class_motion_planner_1_1_physics_core_ab83f143f8ad0c9ed4a48413b5259c3cd}{createPhysicsScene}}(\textcolor{stringliteral}{"{}MyTestScene"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00044}00044     \textcolor{comment}{// Table obstacle parameters.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00045}00045     Eigen::Vector3d tableOrigin(1.5, 1, 0.25);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00046}00046     Eigen::Vector3d tableOffsets(0.3, 0.5, 0.02);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00047}00047     \textcolor{keywordtype}{double} legLength = tableOrigin(2) -\/ tableOffsets(2);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00048}00048     Eigen::Vector3d legOffsets(0.03, 0.03, legLength / 2);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00049}00049     \textcolor{keywordtype}{double} legZVal = legLength / 2;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00050}00050     \mbox{\hyperlink{namespace_motion_planner_a389521f6122ca955f3e5f2f48487ace3}{ObjectType}} tableObjectType = ObjectType::Obstacle;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00051}00051 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00052}00052     \textcolor{comment}{// Create table top and legs.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00053}00053     \mbox{\hyperlink{class_motion_planner_1_1_box}{Box}} tableTop(tableOrigin, Eigen::Vector3d(0, 0, 0), tableOffsets, \textcolor{stringliteral}{"{}Table Top"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00054}00054     \mbox{\hyperlink{class_motion_planner_1_1_box}{Box}} tableLeg1(Eigen::Vector3d(1.5 -\/ 0.3 + legOffsets(0), 1 -\/ 0.5 + legOffsets(1), legZVal), Eigen::Vector3d(0, 0, 0), legOffsets, \textcolor{stringliteral}{"{}Table Leg 1"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00055}00055     \mbox{\hyperlink{class_motion_planner_1_1_box}{Box}} tableLeg2(Eigen::Vector3d(1.5 -\/ 0.3 + legOffsets(0), 1 + 0.5 -\/ legOffsets(1), legZVal), Eigen::Vector3d(0, 0, 0), legOffsets, \textcolor{stringliteral}{"{}Table Leg 2"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00056}00056     \mbox{\hyperlink{class_motion_planner_1_1_box}{Box}} tableLeg3(Eigen::Vector3d(1.5 + 0.3 -\/ legOffsets(0), 1 -\/ 0.5 + legOffsets(1), legZVal), Eigen::Vector3d(0, 0, 0), legOffsets, \textcolor{stringliteral}{"{}Table Leg 3"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00057}00057     \mbox{\hyperlink{class_motion_planner_1_1_box}{Box}} tableLeg4(Eigen::Vector3d(1.5 + 0.3 -\/ legOffsets(0), 1 + 0.5 -\/ legOffsets(1), legZVal), Eigen::Vector3d(0, 0, 0), legOffsets, \textcolor{stringliteral}{"{}Table Leg 4"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00059}00059     \textcolor{comment}{// Add table to the scene.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00060}00060     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(tableTop);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00061}00061     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(tableLeg1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00062}00062     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(tableLeg2);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00063}00063     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(tableLeg3);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00064}00064     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(tableLeg4);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00066}00066     \textcolor{comment}{// Obstacles on table.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00067}00067     \mbox{\hyperlink{class_motion_planner_1_1_box}{Box}} boxObstacle(Eigen::Vector3d(1.5, 1, 0.35), Eigen::Vector3d(0, 0, 0), Eigen::Vector3d(0.1, 0.1, 0.1), \textcolor{stringliteral}{"{}Box Obstacle"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00068}00068     \mbox{\hyperlink{class_motion_planner_1_1_sphere}{Sphere}} object1(Eigen::Vector3d(1.65, 0.65, 0.32), Eigen::Vector3d(0, 0, 0), 0.05, \textcolor{stringliteral}{"{}Object 1"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00069}00069     \mbox{\hyperlink{class_motion_planner_1_1_sphere}{Sphere}} object2(Eigen::Vector3d(1.65, 1.35, 0.32), Eigen::Vector3d(0, 0, 0), 0.05, \textcolor{stringliteral}{"{}Object 2"{}}, tableObjectType);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00070}00070     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(boxObstacle);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00071}00071     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(object1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00072}00072     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_a505e5f84b92c7dd8c0c955f476842b6e}{addObstacle}}(object2);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00074}00074     \textcolor{comment}{// Create robot.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00075}00075     Eigen::Matrix4d pandaBaseTransform\{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00076}00076         \{1, 0, 0, 1\},}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00077}00077         \{0, 1, 0, 1\},}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00078}00078         \{0, 0, 1, 0\},}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00079}00079         \{0, 0, 0, 1\}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00080}00080     \};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00081}00081     \mbox{\hyperlink{class_motion_planner_1_1_franka_panda}{FrankaPanda}} panda(pandaBaseTransform);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00083}00083     \textcolor{comment}{// Add robot to the scene.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00084}00084     physicsScene-\/>\mbox{\hyperlink{class_motion_planner_1_1_physics_scene_ab29441854f3e66856df5836e5c52fdd4}{addSpatialManipulator}}(panda);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00086}00086     \textcolor{comment}{// Setup start joint angles and transform.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00087}00087     Eigen::Vector<double, 7> startAngles(0, 0, 0, -\/pi / 2, 0, pi / 2, 0);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00088}00088     panda.\mbox{\hyperlink{class_motion_planner_1_1_spatial_manipulator_a5119faa935bc11dc513a5cf8897730a6}{setJointDisplacements}}(startAngles);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00089}00089     Eigen::Matrix4d startTransform = panda.\mbox{\hyperlink{class_motion_planner_1_1_spatial_manipulator_a17f46fc575ca2bcbdb1d870dccaad9f2}{getEndFrameSpatialTransform}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00091}00091     \textcolor{comment}{// Setup goal poses.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00092}00092     Eigen::Matrix4d goalTransform1(startTransform);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00093}00093     Eigen::Matrix4d goalTransform2(startTransform);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00094}00094     \textcolor{keyword}{const} \textcolor{keywordtype}{int} plan = 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00096}00096     \textcolor{comment}{// Pure translation.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00097}00097     \textcolor{keywordflow}{if} (plan == 0)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00098}00098     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00099}00099         goalTransform1.block(0, 3, 3, 1) = Eigen::Vector3d(0.65, -\/0.35, 0.4);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00100}00100         goalTransform2.block(0, 3, 3, 1) = Eigen::Vector3d(0.65, 0.35, 0.4);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00101}00101     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00103}00103     \textcolor{comment}{// Pure rotation.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00104}00104     \textcolor{keywordflow}{if} (plan == 1)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00105}00105     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00106}00106         goalTransform1.block(0, 0, 3, 3) = Eigen::Matrix3d\{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00107}00107             \{1, 0, 0\},}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00108}00108             \{0, 1, 0\},}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00109}00109             \{0, 0, 1\}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00110}00110         \};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00111}00111         goalTransform2.block(0, 0, 3, 3) = Eigen::Matrix3d\{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00112}00112             \{1, 0,  0\},}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00113}00113             \{0, 0, -\/1\},}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00114}00114             \{0, 1,  0\}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00115}00115         \};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00116}00116     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00118}00118     \textcolor{comment}{// Generate motion plan.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00119}00119     \textcolor{keyword}{auto} start = std::chrono::steady\_clock::now();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00120}00120     panda.\mbox{\hyperlink{class_motion_planner_1_1_spatial_manipulator_a957b98e821483a5308bc593eb68a194c}{motionPlan}}(goalTransform1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00121}00121     Eigen::Matrix4d achievedTransform1 = panda.\mbox{\hyperlink{class_motion_planner_1_1_spatial_manipulator_a17f46fc575ca2bcbdb1d870dccaad9f2}{getEndFrameSpatialTransform}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00122}00122     panda.\mbox{\hyperlink{class_motion_planner_1_1_spatial_manipulator_a957b98e821483a5308bc593eb68a194c}{motionPlan}}(goalTransform2);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00123}00123     Eigen::Matrix4d achievedTransform2 = panda.\mbox{\hyperlink{class_motion_planner_1_1_spatial_manipulator_a17f46fc575ca2bcbdb1d870dccaad9f2}{getEndFrameSpatialTransform}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00124}00124     \textcolor{keyword}{auto} stop = std::chrono::steady\_clock::now();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00125}00125 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00126}00126     std::cout << \textcolor{stringliteral}{"{}Start Transform: \(\backslash\)n"{}} << startTransform << \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00127}00127     std::cout << \textcolor{stringliteral}{"{}Goal Transform 1: \(\backslash\)n"{}} << goalTransform1 << \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00128}00128     std::cout << \textcolor{stringliteral}{"{}Acheived Transform 1: \(\backslash\)n"{}} << achievedTransform1 << \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00129}00129     std::cout << \textcolor{stringliteral}{"{}Goal Transform 2: \(\backslash\)n"{}} << goalTransform2 << \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00130}00130     std::cout << \textcolor{stringliteral}{"{}Acheived Transform 2: \(\backslash\)n"{}} << achievedTransform2 << \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00131}00131 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00132}00132     \textcolor{comment}{// Elapsed time.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00133}00133     \textcolor{keyword}{auto} elapsedTime = std::chrono::duration\_cast<std::chrono::milliseconds>(stop -\/ start).count();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00134}00134     std::cout << \textcolor{stringliteral}{"{}Elapsed Time: "{}} << elapsedTime << \textcolor{stringliteral}{"{} ms\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00135}00135 \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00136}00136 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00138}00138 \textcolor{comment}{// TODO: }}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00139}00139     \textcolor{comment}{// Contacts need to be sorted by movable rigid bodies, not just rigid bodies.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00140}00140 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00141}00141 \textcolor{comment}{// TODO: Add logic to demote contact points of rigid bodies to the previous body in the chain.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00142}00142             \textcolor{comment}{// A comparison of distances similar to the contact manager must be made.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00143}00143             \textcolor{comment}{// Must handle edge cases. IE: First body is always fixed, and has no previous body.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00146}00146 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00147}00147 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00148}00148 \textcolor{comment}{* Actor Storage:}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00149}00149 \textcolor{comment}{*   Obstacles: Store in regular vector, or in name-\/pointer map.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00150}00150 \textcolor{comment}{*   Robot Geometry: Store in shape name and pointer map.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00151}00151 \textcolor{comment}{*       Shape name should be prefixed with the robot name and link name.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00152}00152 \textcolor{comment}{*           Ex: "{}panda\_link\_6\_sphere\_2"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00153}00153 \textcolor{comment}{*       RigidBody name should be the robot name and link name.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00154}00154 \textcolor{comment}{*           Ex: "{}panda\_link\_6"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00155}00155 \textcolor{comment}{* }}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00156}00156 \textcolor{comment}{* Contacts:}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00157}00157 \textcolor{comment}{*   Create a ContactManager class that will have a map that stores ContactPoint objects with a name key that belongs to the actor/shape.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00158}00158 \textcolor{comment}{*   This allows us to remove ContactPoint from Shape/RigidBody.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00159}00159 \textcolor{comment}{*   Also allows us to perform sorting of ContactPoints from this class.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00160}00160 \textcolor{comment}{*   ContactManager will be a member of SpatialManipulator.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00161}00161 \textcolor{comment}{*   Each PxShape will contain a pointer to ContactManager.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00162}00162 \textcolor{comment}{*   In ContactReportCallback::onContact(), }}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00163}00163 \textcolor{comment}{*       ContactManager* contactManager = pxShape.userData... }}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00164}00164 \textcolor{comment}{*       if (contactManager)}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00165}00165 \textcolor{comment}{*       \{}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00166}00166 \textcolor{comment}{*           std::string shapeName = shape.getName();}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00167}00167 \textcolor{comment}{*           ContactPoint contactPoint = ....}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00168}00168 \textcolor{comment}{*           contactManager-\/>addContact(shapeName, contactPoint);}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00169}00169 \textcolor{comment}{*       \}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00170}00170 \textcolor{comment}{*   Then, we can write logic inside of ContactManager to sort and select contact points to give to the RigidBody.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00171}00171 \textcolor{comment}{*}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00172}00172 \textcolor{comment}{* Shape actor transforms:}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00173}00173 \textcolor{comment}{*   Obstacle actors: No problem.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00174}00174 \textcolor{comment}{*   Robot geometry actors: Yes problem.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00175}00175 \textcolor{comment}{*       Shape's transforms should be managed by my code independant of PhysX.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00176}00176 \textcolor{comment}{*       PhysicsScene will have a map that holds pointers to the original shapes.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00177}00177 \textcolor{comment}{*       PhysicsScene::updateTransforms() will update the PhysX actor transforms with my shape transforms using above map.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00178}00178 \textcolor{comment}{*       Will also need to change robot collision shapes from having local transforms to world/spatial transforms.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00179}00179 \textcolor{comment}{*           In RigidBody::addCollider(), we assume the shapes being added are relative to the body. We can maintain this.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00180}00180 \textcolor{comment}{*           Create CollisionAggregate::updateWorldTransforms(const Eigen::Matrix4d\& worldTransform).}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00181}00181 \textcolor{comment}{*               This will multiply each Shape's transform by the supplied worldTransform and store it in a map inside CollisionAggregate.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00182}00182 \textcolor{comment}{*               PhysicsScene::addRobotGeometry() will store a pointer to this world transform in the PxShape's user data.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00183}00183 \textcolor{comment}{*}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00184}00184 \textcolor{comment}{* Getters:}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00185}00185 \textcolor{comment}{*   Getters for the structure of SpatialManipulator should be const references.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00186}00186 \textcolor{comment}{*       Ex: getRigidBodyChain() should ensure that we...}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00187}00187 \textcolor{comment}{*           1. Only can read the data.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00188}00188 \textcolor{comment}{*           2. Do not have to copy the data.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00189}00189 \textcolor{comment}{*   Any manipulation of the data inside should be controlled by the classes themselves.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00190}00190 \textcolor{comment}{* }}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00191}00191 \textcolor{comment}{* Logging:}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00192}00192 \textcolor{comment}{*   Replace the exceptions/print statements with a log.}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00193}00193 \textcolor{comment}{*/}}

\end{DoxyCode}
